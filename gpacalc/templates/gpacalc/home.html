{% extends 'gpacalc/layout.html' %}

{%block content %}
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand col" href="{% url 'home' %}">Ceegllo</a>
        </div>
        <div class="navbar-collapse navbar-toggleable-xs" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="nav-item active"><a href="{% url 'home' %}">Home</a></li>
                <li class="nav-item">
                    <a class="dropdown-toggle" href="{% url 'editcollege' %}"data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">College Info<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="{% url 'editcollege' %}">Past Semesters</a></li>
                        <li><a href="{% url 'editfuture' %}">Future Plan</a></li>
                        <li><a href="{% url 'currentclasses' %}">Current Semester</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{ username }}<span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="{% url 'editprofile' %}">Edit Profile</a></li>
                        <li><a href="{% url 'settings' %}">Settings</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="{% url 'login' %}">Logout</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="jumbotron text-center">
    <h1>Hello {{ name }}!</h1>
    {% if college %}
        <h2>{{ college }}</h2>
    {% else %}
        <button class="btn btn-lg btn-default edit-college" type="button" onclick="editCollege()">Add College Information</button>
    {% endif %}
    {% if gpa %}
        <h3>GPA: {{ gpa }}</h3>
    {% endif %}
</div>

<script>

    //this code isn't mine it's from d3Vienno's tutorials on youtube
    var dataArray = [20, 40, 50, 60];
    var width=500;
    var height=500;

    var widthScale = d3.scale.linear().domain([0, 60]).range([0, width]);

    var colorScale = d3.scale.linear().domain([0, 60]).range(["red", "blue"]);

    var axis = d3.svg.axis().ticks(5).scale(widthScale);

    var canvas = d3.select("body").append("svg").attr("width", width).attr("height", height)
                    .append("g").attr("transform", "translate(20, 0)");

    var bars = canvas.selectAll("rect").data(dataArray).enter()
                .append("rect").attr("width", function(d) { return widthScale(d); }).attr("height", 50)
                .attr("fill", function(d) { return colorScale(d); }).attr("y", function(d, i) { return i * 100; });

    canvas.append("g").attr("transform", "translate(0, 400)").call(axis);

</script>
{% endblock %}

</html>